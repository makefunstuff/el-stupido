ğŸ“¦ SA {
  fam: ğŸ“ˆ
  port: ğŸ“ˆ
  addr: ğŸ”µ
  z: [8]ğŸ”¶
}

ğŸ() {
  fd := ğŸŒ(2, 1, 0)
  â“ fd < 0 { ğŸ–¨("!\n"); â†© 1 }
  o: ğŸ”¢ = 1
  ğŸ›(fd, 1, 2, &o, 4)
  a: SA
  ğŸ§¹(&a, 0, 16)
  a.fam = 2
  a.port = ğŸ”ƒ(8080)
  a.addr = 0
  â“ fd.ğŸ“Œ(&a, 16) < 0 { ğŸ–¨("!\n"); â†© 1 }
  fd.ğŸ“¡(5)
  ğŸ–¨(":8080\n")
  ğŸ” 1 {
    c := fd.ğŸ¤(âˆ…, âˆ…)
    â“ c < 0 { ğŸ–¨("!\n"); â†© 1 }
    ğŸ–¨("+\n")
    buf: [1024]ğŸ”¶
    ğŸ” 1 {
      n := c.ğŸ“–(&buf, 1024)
      â“ n <= 0 { ğŸ–¨("-\n"); c.ğŸ“•(); â†© 0 }
      c.âœ(&buf, n)
    }
    c.ğŸ“•()
  }
}
